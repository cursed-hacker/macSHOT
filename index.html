<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>macOS Screenshot</title>
    <style>
        body {
            background-color: #121212;

            color: #e0e0e0;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            padding: 20px;

            box-sizing: border-box;

            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

            transition: background-color 0.3s, color 0.3s;

        }

        .light-mode {
            background-color: #ffffff;

            color: #000000;

        }

        .dark-mode-1 {
            background-color: #121212;

            color: #e0e0e0;

        }

        .dark-mode-2 {
            background-color: #2e2e2e;

            color: #c0c0c0;

        }

        .dark-mode-3 {
            background-color: #3a3a3a;

            color: #a0a0a0;

        }

        .container {
            position: relative;
            border-radius: 10px;

            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);

            overflow: hidden;

            background: #1e1e1e;

            transition: background-color 0.3s;

        }

        .light-mode .container {
            background: #f5f5f5;

        }

        .dark-mode-1 .container {
            background: #1e1e1e;

        }

        .dark-mode-2 .container {
            background: #3a3a3a;

        }

        .dark-mode-3 .container {
            background: #4a4a4a;

        }

        .header {
            width: 100%;
            height: 30px;
            background: #333;

            display: flex;
            align-items: center;
            padding: 0 10px;
            box-sizing: border-box;
            border-top-left-radius: 10px;

            border-top-right-radius: 10px;

            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            transition: background-color 0.3s;

        }

        .light-mode .header {
            background: #e0e0e0;

        }

        .dark-mode-1 .header {
            background: #333;

        }

        .dark-mode-2 .header {
            background: #4a4a4a;

        }

        .dark-mode-3 .header {
            background: #585858;

        }

        .header .controls {
            display: flex;
            gap: 8px;
            margin-left: 10px;

        }

        .header .controls div {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            cursor: pointer;

        }

        .header .controls div:nth-child(1) {
            background-color: #ff5f57;

        }

        .header .controls div:nth-child(2) {
            background-color: #ffbd44;

        }

        .header .controls div:nth-child(3) {
            background-color: #28c841;

        }

        .header .controls div:nth-child(4) {
            background-color: #9b9b9b;

        }

        img {
            display: block;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            margin-top: 30px;

            border-radius: 0 0 10px 10px;

        }

        input[type="file"] {
            opacity: 0;

            position: absolute;

            z-index: -1;

        }

        .file-upload-label {
            display: inline-block;
            background: #007aff;

            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.3s;
        }

        .file-upload-label:hover {
            background: #0051a8;

        }

        .hidden {
            display: none;
        }

        #boldText {
            font-weight: bold;

            font-size: 55px;

            color: #000;

            background: linear-gradient(45deg, #ffffff, #ffffff);

            -webkit-background-clip: text;

            color: transparent;

            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);

            padding: 8px 12px;

            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

        }

        #unameText {
            font-weight: bold;
            font-size: 15px;

            color: #000;

            background: linear-gradient(45deg, #191919, #191919);

            -webkit-background-clip: text;
            color: transparent;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin-bottom: -74px;
            text-align: center;
            margin-left: 95px;


        }

        .dot-container {
            display: flex;
            align-items: center;
        }

        .red-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ff5f57;

        }

        .green-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #28c841;

        }

        .yellow-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ffbd44;

        }

        .instruction {
            font-weight: lighter;

            font-size: 18px;

            color: #000;

            background: linear-gradient(45deg, #e0e0e0, #d0d0d0);

            -webkit-background-clip: text;

            color: gray;

            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);

            padding: 8px 12px;

            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

            text-align: center;
        }

        .github-link {
            text-decoration: none;
            color: #333;
        }

        .github-link i {
            font-size: 16px;

        }
    </style>
</head>

<body class="dark-mode-1"> <!-- Set default dark mode 1 -->

    <h4 id="unameText">cursed_hacker</h4> <!-- New Hello text -->
    <h3 id="boldText">macSHOT</h3>
    <div class="dot-container">
        <div id="reddot" class="red-dot"></div>
        <div id="instruction1" class="instruction"> Closes Window</div>

        <div id="yellowdot" class="yellow-dot"></div>
        <div id="instruction2" class="instruction"> Takes Screenshot</div>

        <div id="greendot" class="green-dot"></div>
        <div id="instruction3" class="instruction"> Changes Theme</div>
    </div>

    <div class="dot-container"></div>
    <div class="instruction" style="visibility: hidden;">Secret</div>
    </div>

    <a id="instruction4" href="https://github.com/cursed-hacker" class="github-link" target="_blank"><i
            class="fab fa-github"></i></a>


    <!-- <div class="dot-container">
        <div id="instruction4" style="color: gray;"> Use "GoFullPage" Chrome Extension To Screenshot The Output</div>
        <div id="instruction5"
            onclick="window.open('https://chromewebstore.google.com/detail/gofullpage-full-page-scre/fdpohaocaechififmbbbbbknoalclacl?hl=en','mywindow');"
            style="cursor: pointer;color: blue;">&nbsp;â†—</div>
    </div> -->

    <div class="container">
        <div class="header">
            <div class="controls">
                <div id="refreshButton" title="Exit"></div> <!-- Button for refreshing the page with hover text -->
                <div id="ssButton" title="Take a screenshot"></div> <!-- Button to take a screenshot with hover text -->
                <div id="themeToggle" title="Toggle theme"></div> <!-- Button for mode toggle with hover text -->
                <!-- <div></div> Extra button -->
            </div>
        </div>
        <img id="displayImage" src="" alt="">
    </div>
    <label for="fileInput" class="file-upload-label" id="uploadLabel">Upload Image</label>
    <input type="file" id="fileInput" accept="image

    <script>
        const fileInput = document.getElementById('fileInput');
        const displayImage = document.getElementById('displayImage');
        const themeToggle = document.getElementById('themeToggle');
        const ssButton = document.getElementById('ssButton');
        const body = document.body;
        const container = document.querySelector('.container');
        const header = document.querySelector('.header');
        const uploadLabel = document.getElementById('uploadLabel');
        const boldText = document.getElementById('boldText'); 
        const refreshButton = document.getElementById('refreshButton');

        refreshButton.addEventListener('click', () => {
            location.reload(); 
        });

        let currentMode = 1; 
        let uploadedFileName = ''; 

        fileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                uploadedFileName = file.name.split('.')[0]; 

                reader.onload = (e) => {
                    displayImage.src = e.target.result;
                    displayImage.style.display = 'block'; 
                    uploadLabel.classList.add('hidden'); 
                    boldText.style.display = 'none'; 
                    reddot.style.display = 'none'; 
                    yellowdot.style.display = 'none'; 
                    greendot.style.display = 'none'; 
                    instruction1.style.display = 'none'; 
                    instruction2.style.display = 'none'; 
                    instruction3.style.display = 'none'; 
                    instruction4.style.display = 'none'; 
                };
                reader.readAsDataURL(file);
            }
        });

        themeToggle.addEventListener('click', () => {
            currentMode = (currentMode + 1) % 4; 

            if (currentMode === 0) {
                
                body.classList.remove('dark-mode-1', 'dark-mode-2', 'dark-mode-3');
                body.classList.add('light-mode');
                container.style.background = '#f5f5f5'; 
                header.style.background = '#ffffff'; 
                body.style.backgroundColor = '#ffffff'; 
                body.style.color = '#000000'; 
            } else if (currentMode === 1) {
                
                body.classList.remove('light-mode', 'dark-mode-2', 'dark-mode-3');
                body.classList.add('dark-mode-1');
                container.style.background = '#1e1e1e'; 
                header.style.background = '#333'; 
                body.style.backgroundColor = '#121212'; 
                body.style.color = '#e0e0e0'; 
            } else if (currentMode === 2) {
                
                body.classList.remove('dark-mode-1', 'dark-mode-3');
                body.classList.add('dark-mode-2');
                container.style.background = '#3a3a3a'; 
                header.style.background = '#4a4a4a'; 
                body.style.backgroundColor = '#2e2e2e'; 
                body.style.color = '#c0c0c0'; 
            } else if (currentMode === 3) {
                
                body.classList.remove('dark-mode-1', 'dark-mode-2');
                body.classList.add('dark-mode-3');
                container.style.background = '#4a4a4a'; 
                header.style.background = '#ffffff'; 
                body.style.backgroundColor = '#121212'; 
                body.style.color = '#a0a0a0'; 
            }
        });

        ssButton.addEventListener('click', () => {
            takeScreenshot(); 
        });

        function takeScreenshot() {
            html2canvas(document.body).then(function (canvas) {
                
                const link = document.createElement('a');
                link.href = canvas.toDataURL('image/png');
                const screenshotFileName = uploadedFileName ? `${uploadedFileName}_macked.png` : 'macked.png';
                link.download = screenshotFileName; 
                link.click();
            });
        }

    </script>
</body>

</html>